<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Yay üíó</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet">

  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;600&display=swap" rel="stylesheet">


  <link rel="stylesheet" href="css/flowers.css">
</head>

<body>
  <div class="note" aria-hidden="true">
    <div class="note-text">14<br>FEB</div>
  </div>
  <div class="back-btn-wrap">
  <a class="btn back-btn" href="index.html">‚Üê –µ—â–µ –ª–∞–∑</a>
</div>


  <section class="flowers-page" id="flowersPage">
    <h2 class="flowers-title">Flowers for you</h2>
    <!-- <p class="flowers-subtitle">click the letter for a surprise</p> -->

    <div class="bouquet">

      <!-- ‚úÖ —Å—é–¥–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è 6 PNG –ø–æ –æ—á–µ—Ä–µ–¥–∏ -->
      <div class="rose-layer" id="roseLayer" aria-hidden="true"></div>

      <div class="vase" aria-hidden="true">
        <!-- <div class="vase-text">text<br>text</div> -->
      </div>

      <button class="envelope" id="openLetter" aria-label="Open letter">üíå</button>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞-–ø–∏—Å—å–º–æ -->
    <div class="letter-modal" id="letterModal" role="dialog" aria-modal="true" aria-hidden="true">
      <div class="letter-card">
        <button class="letter-close" id="closeLetter" aria-label="Close">‚úï</button>

        <h3>–ü–∏—Å—å–º–æ –¥–ª—è –º–æ–µ–π –ª—é–±–∏–≤</h3>
        <p>–° –¥–Ω–µ–º –≤–ª—é–±–ª–µ–Ω–Ω—ã—Ö —Å–æ–ª–Ω—Ü–µ –º–æ–µ
          –ü–∏—à—É —ç—Ç–æ –ø–∏—Å—å–º–æ, –ª–µ–∂–∞ –Ω–∞ –¥–∏–≤–∞–Ω–µ –≤ –∫–≤–∞—Ä—Ç–∏—Ä–µ, –≤ –≥–æ—Ä–æ–¥–µ, –≤ —Å—Ç—Ä–∞–Ω–µ, –Ω–∞ –º–∞—Ç–µ—Ä–∏–∫–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º —Ç–µ–±—è –Ω–µ—Ç‚Ä¶ –∏ –æ—Ç —ç—Ç–æ–≥–æ —Ç–∞–∫ –≥—Ä—É—Å—Ç–Ω–æ. –¢–∞–∫ —Å—Ç—Ä–∞–Ω–Ω–æ –ø—Ä–æ—Å—ã–ø–∞—Ç—å—Å—è –∏ –ø–æ–Ω–∏–º–∞—Ç—å —á—Ç–æ –Ω–µ —É–≤–∏–∂—É —Å–µ–≥–æ–¥–Ω—è —Ç–≤–æ–∏ –≥–ª–∞–∑–∞, –Ω–µ –ø–æ—á—É–≤—Å—Ç–≤—É—é —Ç–≤–æ–µ —Ç–µ–ø–ª–æ. –í–æ–∫—Ä—É–≥ —Ç–∞–∫ –º–Ω–æ–≥–æ –≤—Å–µ–≥–æ, –Ω–æ —á–µ–≥–æ-—Ç–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç, –≤ —ç—Ç–æ–º –≥–æ—Ä–æ–¥–µ –≤–µ–∑–¥–µ –≥–¥–µ –±—ã —è –Ω–µ –±—ã–ª–∞ –∫–∞–∫ –±—É–¥—Ç–æ –¥—É—à–∏ –Ω–µ—Ç –ø—É—Å—Ç–æ—Ç–∞, –¥—É–º–∞—é —ç—Ç–æ –ø–æ—Ç–æ–º—É —á—Ç–æ –º–æ–µ–≥–æ –º–∞–≤—ã—à–∞ –Ω–µ—Ç —Ä—è–¥–æ–º.

          –Ø —Ç–∞–∫ —Å–∫—É—á–∞—é –ø–æ —Ç–µ–±–µ. –°–∫—É—á–∞—é –ø–æ —Ç–≤–æ–µ–º—É –∑–∞–ø–∞—Ö—É, –ø–æ —Ç–≤–æ–∏–º —Ä—É–∫–∞–º, –∑–∞ –∫–æ—Ç–æ—Ä—ã–µ —è –¥–µ—Ä–∂–∞–ª–∞—Å—å, –∫–æ–≥–¥–∞ –º—ã –≥—É–ª—è–ª–∏. –°–∫—É—á–∞—é –ø–æ —Ç–æ–º—É, –∫–∞–∫ –º—ã —à–ª–∏ –∑–∞ –∫–æ–∫–∏–∫–æ–ª–æ–π - –∏ –±–æ–ª—å—à–µ –Ω–∏—á–µ–≥–æ –≤ –º–∏—Ä–µ –Ω–µ –±—ã–ª–æ –Ω—É–∂–Ω–æ. –í —ç—Ç–æ–º –º–∏—Ä–µ –Ω–µ—Ç –Ω–∏—á–µ–≥–æ –ø—Ä–∏—è—Ç–Ω–µ–µ —á–µ–º —Å–∫–∏–Ω —Ç—É —Å–∫–∏–Ω —Å —Ç–æ–±–æ–π –ø–ª–∞–≤–¥—É –≥–æ–≤–æ–ª—é. –Ø —Å—á–∞—Å—Ç–ª–∏–≤–∞ –ª—é–±–∏—Ç—å —Ç–µ–±—è –∏ –±—ã—Ç—å –ª—é–±–∏–º–æ–π —Ç–æ–±–æ–π.

          –Ø –ª—é–±–ª—é —Ç–µ–±—è, –º–∞–≤—ã—àüíó
        </p>

        <!-- <div class="letters">
          <button class="letter-btn" data-msg="–¢—ã –º–æ—è —Ä–∞–¥–æ—Å—Ç—å üê∞üíû">A</button>
          <button class="letter-btn" data-msg="–î—É–º–∞—é –æ —Ç–µ–±–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å üåô">B</button>
          <button class="letter-btn" data-msg="–•–æ—á—É —Å —Ç–æ–±–æ–π —Ç–∞–Ω—Ü–µ–≤–∞—Ç—å üíÉüï∫">C</button>
        </div> -->

        <!-- <p class="letter-result" id="letterResult">–ù–∞–∂–º–∏ –Ω–∞ –±—É–∫–≤—É ‚úâÔ∏è</p> -->
      </div>
    </div>
  </section>

  <!-- —Å–µ—Ä–¥–µ—á–∫–∏ -->
  <div class="hearts" aria-hidden="true">
    <span>üíó</span><span>üíñ</span><span>üíò</span><span>üíï</span>
    <span>üíó</span><span>üíñ</span><span>üíò</span><span>üíï</span>
    <span>üíó</span><span>üíñ</span><span>üíò</span><span>üíï</span>
  </div>

  <script>
  document.addEventListener("DOMContentLoaded", () => {
    // ===== modal letter =====
    const modal = document.getElementById("letterModal");
    const openLetter = document.getElementById("openLetter");
    const closeLetter = document.getElementById("closeLetter");
    const letterResult = document.getElementById("letterResult");

    if (openLetter && modal) {
      openLetter.addEventListener("click", () => {
        openLetter.classList.add("is-open");   // ‚úÖ stop hint
        modal.classList.remove("show");
        void modal.offsetWidth;
        modal.classList.add("show");
        modal.setAttribute("aria-hidden", "false");
      });
    }

    if (closeLetter && modal) {
      closeLetter.addEventListener("click", () => {
        modal.classList.remove("show");
        modal.setAttribute("aria-hidden", "true");
        openLetter.classList.remove("is-open"); // ‚úÖ hint again
      });
    }

    if (modal) {
      modal.addEventListener("click", (e) => {
        if (e.target === modal) {
          modal.classList.remove("show");
          modal.setAttribute("aria-hidden", "true");
        }
      });
    }

    document.querySelectorAll(".letter-btn").forEach(btn => {
      btn.addEventListener("click", () => {
        if (letterResult) letterResult.textContent = btn.dataset.msg || "";
      });
    });

    // ===== flowers appear one by one (6 png) =====
    const roseLayer = document.getElementById("roseLayer");

    // ‚úÖ –í–ê–ñ–ù–û: –ø–æ–º–µ–Ω—è–π –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –ø–æ–¥ —Å–≤–æ–∏ (–≤ –ø–∞–ø–∫–µ images)
    const flowers = [
      "image/m.png",
      "image/e.png",
      "image/e.png",
      "image/r.png",
      "image/i.png",
      "image/m.png"
    ];

    // –ø–æ–∑–∏—Ü–∏–∏ (–ø–æ–¥–≥–æ–Ω–∏—à—å –µ—Å–ª–∏ –Ω–∞–¥–æ ‚Äî –Ω–æ —É–∂–µ –∫—Ä–∞—Å–∏–≤–æ ‚Äú–±—É–∫–µ—Ç–æ–º‚Äù)
    const layout = [
      { left: "50%", top: "15px", width: "130px", z: 0, rotate: 0 },
      { left: "30%", top: "15px", width: "140px", z: 2, rotate: -15 },
      { left: "68%", top: "10px", width: "140px", z: 2, rotate: 35 },
      { left: "44%", top: "15px", width: "170px", z: 3, rotate: -15 },
      { left: "52%", top: "10px", width: "140px", z: 2, rotate: 15 },
      { left: "45%", top: "5px", width: "140px", z: 3, rotate: -5 }
    ];

    if (roseLayer) {
      let i = 0;

      const timer = setInterval(() => {
        if (i >= flowers.length) {
          clearInterval(timer);
          return;
        }

        const img = document.createElement("img");
        img.src = flowers[i];
        img.alt = "";

        const p = layout[i] || layout[layout.length - 1];
        img.style.left = p.left;
        img.style.top = p.top;
        img.style.width = p.width;
        img.style.zIndex = String(p.z);
        img.style.transform = `translateX(-50%) rotate(${p.rotate}deg)`;

        img.onload = () => img.classList.add("show");
        img.onerror = () => {
          // –µ—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Äî –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º, —á—Ç–æ–±—ã –Ω–µ –ª–æ–º–∞–ª–æ—Å—å
          i++;
        };

        roseLayer.appendChild(img);
        i++;
      }, 650);
    }
  });
  </script>
</body>
</html>
